@using System.Globalization

<section class="dorne-listing-destinations-area section-padding-100-50">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-heading dark text-center">
                    <span></span>
                    <h4>Çocuk Etkinlikleri</h4>

                </div>
            </div>
        </div>
        <div class="row">
            @foreach (var item in Model)
            {
                <div class="col-12 col-sm-6 col-lg-4">
                    <div class="single-features-area mb-50" style="width:340px;height:500px; position: relative;">
                        <!-- Tıklanabilir bağlantı -->
                        <a href="@Url.Action("Details", "KidsEvent", new { id = item.EventId })" style="text-decoration: none; color: inherit;">
                            <img src="@item.ImageUrl" style="width:340px;height:300px;" alt="">

                            <div class="price-start">
                                <p>@item.EventDate.ToString("dd MMMM yyyy", new CultureInfo("tr-TR"))</p>
                            </div>


                            <div class="feature-content d-flex align-items-center justify-content-between">
                                <div class="feature-title">
                                    <h5>@item.Title</h5>
                                    <p>@item.Location</p>
                                </div>

                                <!-- Favori Butonu -->
                                <div class="feature-favourite">
                                    @if (User.Identity.IsAuthenticated)
                                    {
                                        <a href="javascript:void(0);" onclick="addToFavorites(@item.EventId)">
                                            <i class="fa fa-heart-o" aria-hidden="true"></i>
                                        </a>
                                    }
                                    else
                                    {
                                        <a href="javascript:void(0);" onclick="showLoginPopup()">
                                            <i class="fa fa-heart-o" aria-hidden="true"></i>
                                        </a>
                                    }
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            }
            <div id="loginPopup" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(50, 50, 50, 0.8); justify-content: center; align-items: center; color: white; text-align: center; z-index: 9999;">
                <div style="background-color: rgba(40, 40, 40, 0.95); padding: 20px; border-radius: 8px; width: 300px;">

                    <p style="margin-bottom: 15px;">Favorilere eklemek için giriş yapmanız gerekmektedir.</p>
                    <a href="@Url.Action("SignIn", "Login", new { area = "Member" })" style="color: #fff; text-decoration: none; background-color: rgba(139, 0, 0, 0.99); padding: 12px 20px; border-radius: 5px; display: block; margin-bottom: 10px;">Giriş Yap</a>
                    <button onclick="closeLoginPopup()" style="background-color: rgba(139, 0, 0, 0.99); color: white; padding: 12px 20px; border-radius: 5px; border: none; display: block; width: 100%;">Kapat</button>
                </div>
            </div>


        </div>
    </div>
</section>


<style>

    #loginPopup {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(50, 50, 50, 0.8);
        justify-content: center;
        align-items: center;
        color: white;
        text-align: center;
        z-index: 9999;
    }

        #loginPopup div {
            background-color: rgba(40, 40, 40, 0.95);
            padding: 30px;
            border-radius: 8px;
            width: 300px;
        }

        #loginPopup h4 {
            margin-bottom: 20px;
        }

        #loginPopup p {
            margin-bottom: 15px;
        }

        #loginPopup a, #loginPopup button {
            color: #fff;
            text-decoration: none;
            background-color: rgba(139, 0, 0, 0.99);
            padding: 12px 20px;
            border-radius: 5px;
            display: block;
            width: 100%;
        }

        #loginPopup a {
            margin-bottom: 10px;
        }

        #loginPopup button {
            margin-bottom: 0;
        }
</style>

5