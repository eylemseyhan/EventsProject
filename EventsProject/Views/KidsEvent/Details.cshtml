
    <section class="event-detail-container">
        <div class="event-detail-wrapper">
            <!-- Event Image -->
            @if (!string.IsNullOrEmpty(Model.ImageUrl))
            {
                <div class="event-image">
                    <img src="@Model.ImageUrl" alt="Event Image" class="img-fluid">
                </div>
            }

            <!-- Event Details -->
            <div class="event-content">
                <h2 class="event-title">@Model.Title</h2>
                <div class="event-overview">
                    <p class="event-description">@Model.Description</p>
                    <p class="event-details">@Model.Details</p>
                    <p class="event-date">@Model.EventDate.ToString("dd MMMM yyyy", new System.Globalization.CultureInfo("tr-TR"))</p>
                </div>

                <!-- Event Location -->
                <div class="event-location">
                    <strong>Konum:</strong> @Model.Location
                </div>

                <!-- Google Map -->
                <div class="event-map">
                    <h3>Haritada Göster</h3>
                    @if (!string.IsNullOrEmpty(Model.LocationUrl))
                    {
                        <iframe src="@Model.LocationUrl" width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    }
                    else
                    {
                        <p>Harita bulunamadı.</p>
                    }
                </div>
            </div>

            <!-- Sidebar and Buy Ticket -->
            <div class="event-sidebar">
                <div class="listing-sidebar">
                    <div class="listing-verify">
                        @if (User.Identity.IsAuthenticated)
                        {
                            <form method="post" action="@Url.Action("BuyTicket", "Stand_Up")" id="buyTicketForm">
                                <input type="hidden" name="eventId" value="@Model.EventId" />
                                <button type="submit" class="btn dorne-btn w-100 opening-hours-btn">
                                    <i class="fa fa-check pr-3"></i> Bilet Al
                                </button>
                            </form>

                            @if (TempData["ShowSoldOutPopup"] != null && (bool)TempData["ShowSoldOutPopup"])
                            {
                                <div id="soldOutModal" class="modal" style="display: block;">
                                    <div class="modal-content">
                                        <span class="close" id="closeModal">&times;</span>
                                        <h2>Biletler Tükenmiş!</h2>
                                        <p>Bu etkinlik için biletler tükenmiştir. Lütfen başka bir etkinlik seçin.</p>
                                    </div>
                                </div>
                            }
                        }
                        else
                        {
                            <a href="@Url.Action("SignIn", "Login", new { area = "Member" })" class="btn dorne-btn w-100">
                                <i class="fa fa-sign-in pr-3"></i> Giriş Yap ve Bilet Al
                            </a>
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal CSS -->
    <style>
    /* Modal (Popup) Styles */
    .modal {
        display: none; /* Initially hidden */
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5); /* Black with transparency */
        padding-top: 60px;
    }

    .modal-content {
        background-color: white;
        margin: 5% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
        max-width: 500px;
        text-align: center;
    }

    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

    </style>

    <script>
        @if (TempData["ShowSoldOutPopup"] != null && (bool)TempData["ShowSoldOutPopup"])
        {
            <text>
                    // Popup'ı göster
                    var modal = document.getElementById("soldOutModal");
                    modal.style.display = "block";

                    // Popup'ı kapatma işlemi
                    var span = document.getElementById("closeModal");
                    span.onclick = function() {
                        modal.style.display = "none";
                    }

                    // Popup dışına tıklanarak kapanmasını sağla
                    window.onclick = function(event) {
                        if (event.target == modal) {
                            modal.style.display = "none";
                        }
                    }
            </text>
        }
    </script>

